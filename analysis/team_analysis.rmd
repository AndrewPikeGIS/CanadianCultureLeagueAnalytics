---
title: "team_analysis"
author: "Andrew Pike"
date: "25/09/2022"
output: html_document
---
```{r load_package, echo = FALSE, warning = FALSE, message = FALSE}
pkgload::load_all()
```


## Load Data 

```{r read_tables, include=FALSE}
team_logs <- read_team_logs()

manager_table <- read_manager_table()

standings_table <- read_standings_table()
```



```{r join_tables}
team_log_w_manager <- join_manager_table(team_logs, manager_table)

full_table <- join_standings_table(team_log_w_manager, standings_table)
```

## Games Played



```{r games played plot, echo=FALSE}
full_table %>%
    dplyr::filter(
        Name == "Total"
    ) %>%
    dplyr::group_by(
        year
    ) %>%
    plotly::plot_ly(
        x = ~Manager,
        y = ~GP,
        type = "bar",
        color = ~year,
        text = ~team_name
    )
```
